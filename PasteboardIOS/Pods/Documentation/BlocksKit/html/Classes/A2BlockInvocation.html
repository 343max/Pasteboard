<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>A2BlockInvocation Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">BlocksKit 1.8.1 </a></h1>
				<a id="developerHome" href="../index.html">Pandamonia LLC</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">A2BlockInvocation Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/block">&nbsp;&nbsp;&nbsp;&nbsp;block</option>
	
	<option value="//api/name/blockSignature">&nbsp;&nbsp;&nbsp;&nbsp;blockSignature</option>
	
	<option value="//api/name/methodSignature">&nbsp;&nbsp;&nbsp;&nbsp;methodSignature</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/argumentsRetained">&nbsp;&nbsp;&nbsp;&nbsp;- argumentsRetained</option>
	
	<option value="//api/name/clearArguments">&nbsp;&nbsp;&nbsp;&nbsp;- clearArguments</option>
	
	<option value="//api/name/getArgument:atIndex:">&nbsp;&nbsp;&nbsp;&nbsp;- getArgument:atIndex:</option>
	
	<option value="//api/name/getReturnValue:">&nbsp;&nbsp;&nbsp;&nbsp;- getReturnValue:</option>
	
	<option value="//api/name/initWithBlock:methodSignature:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithBlock:methodSignature:</option>
	
	<option value="//api/name/invoke">&nbsp;&nbsp;&nbsp;&nbsp;- invoke</option>
	
	<option value="//api/name/invokeUsingInvocation:">&nbsp;&nbsp;&nbsp;&nbsp;- invokeUsingInvocation:</option>
	
	<option value="//api/name/retainArguments">&nbsp;&nbsp;&nbsp;&nbsp;- retainArguments</option>
	
	<option value="//api/name/setArgument:atIndex:">&nbsp;&nbsp;&nbsp;&nbsp;- setArgument:atIndex:</option>
	
	<option value="//api/name/setReturnValue:">&nbsp;&nbsp;&nbsp;&nbsp;- setReturnValue:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Creating A2BlockInvocation Objects">Creating A2BlockInvocation Objects</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Getting the Block and Method Signatures">Getting the Block and Method Signatures</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Configuring a Block Invocation Object">Configuring a Block Invocation Object</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Dispatching an Invocation">Dispatching an Invocation</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/block">block</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/blockSignature">blockSignature</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/methodSignature">methodSignature</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/argumentsRetained">argumentsRetained</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearArguments">clearArguments</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getArgument:atIndex:">getArgument:atIndex:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getReturnValue:">getReturnValue:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithBlock:methodSignature:">initWithBlock:methodSignature:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/invoke">invoke</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/invokeUsingInvocation:">invokeUsingInvocation:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/retainArguments">retainArguments</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setArgument:atIndex:">setArgument:atIndex:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setReturnValue:">setReturnValue:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="A2BlockInvocation Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">A2BlockInvocation Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">A2BlockInvocation.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>An <code>A2BlockInvocation</code> is an Objective-C <a href="#//api/name/block">block</a> call rendered static, that
is, it is an action turned into an object. <code>A2BlockInvocation</code> objects are used
to store and forward closure invocations between objects, primarily by the
<a href="../Classes/A2DynamicDelegate.html"><code>A2DynamicDelegate</code></a> system.</p>

<p>An <code>A2BlockInvocation</code> object encapsulates all the elements of an Objective-C
<a href="#//api/name/block">block</a> invocation, including arguments and the return value. Each of these can
be set directly, and the return value is set automatically when the object is
dispatched.</p>

<p>An <code>A2BlockInvocation</code> object can be repeatedly dispatched. Its arguments can
be modified between dispatches for varying results, making it useful for
repeating calls with many arguments. This flexibility makes <code>A2BlockInvocation</code>
extremely powerful, because blocks can be used to capture scope and
<code>A2BlockInvocation</code> can be used to save them for later.</p>

<p>Like <code>NSInvocation</code>, <code>A2BlockInvocation</code> does not support invocations of
methods with variadic arguments or union arguments.</p>

<p>This class does not retain the arguments for the contained call by default. If
those objects might disappear between the time you create your invocation and
the time you use it, you should call the <a href="#//api/name/retainArguments">retainArguments</a> method to have the
invocation object retain them itself.</p>

<p><code>A2BlockInvocation</code> is powered by <a href="http://sourceware.org/libffi/">libffi</a>,
which serves as a way to call functions like <code>NSInvocation</code> calls methods.
This is the only way to do this for now. Get used to it.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Creating A2BlockInvocation Objects" name="task_Creating A2BlockInvocation Objects"></a>
						<h3 class="subsubtitle task-title">Creating A2BlockInvocation Objects</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithBlock:methodSignature:">&ndash;&nbsp;initWithBlock:methodSignature:</a></code>
		<span class="tooltip"><p>Returns an <code>A2BlockInvocation</code> object able to construct calls using a given
<a href="#//api/name/block">block</a> and a given method signature.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Getting the Block and Method Signatures" name="task_Getting the Block and Method Signatures"></a>
						<h3 class="subsubtitle task-title">Getting the Block and Method Signatures</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/methodSignature">&nbsp;&nbsp;methodSignature</a></code>
		<span class="tooltip"><p>Returns the reciever&rsquo;s method signature. Appropriate for use in
<code>methodSignatureForSelector:</code>, and reflects the method <em>with</em> a selector.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/blockSignature">&nbsp;&nbsp;blockSignature</a></code>
		<span class="tooltip"><p>Returns the reciever&rsquo;s <a href="#//api/name/block">block</a> signature. Intended for use in compatibility
comparison, and generally not useful.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/block">&nbsp;&nbsp;block</a></code>
		<span class="tooltip"><p>Returns the reciever&rsquo;s block. Can be used to call it manually, if you
know its signature.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Configuring a Block Invocation Object" name="task_Configuring a Block Invocation Object"></a>
						<h3 class="subsubtitle task-title">Configuring a Block Invocation Object</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/retainArguments">&ndash;&nbsp;retainArguments</a></code>
		<span class="tooltip"><p>If the receiver hasn’t already done so, retains all object arguments of the
receiver and copies all of its C-string arguments.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/argumentsRetained">&ndash;&nbsp;argumentsRetained</a></code>
		<span class="tooltip"><p>Returns YES if the receiver has retained its arguments, NO otherwise.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getReturnValue:">&ndash;&nbsp;getReturnValue:</a></code>
		<span class="tooltip"><p>Gets the receiver&rsquo;s return value.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setReturnValue:">&ndash;&nbsp;setReturnValue:</a></code>
		<span class="tooltip"><p>Sets the receiver’s return value.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getArgument:atIndex:">&ndash;&nbsp;getArgument:atIndex:</a></code>
		<span class="tooltip"><p>Returns by indirection the receiver&rsquo;s argument at a specified index.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setArgument:atIndex:">&ndash;&nbsp;setArgument:atIndex:</a></code>
		<span class="tooltip"><p>Sets an argument of the receiver.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearArguments">&ndash;&nbsp;clearArguments</a></code>
		<span class="tooltip"><p>Unsets all arguments in the <a href="#//api/name/block">block</a> invocation, including releasing any
objects if <a href="#//api/name/argumentsRetained">argumentsRetained</a> is YES.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Dispatching an Invocation" name="task_Dispatching an Invocation"></a>
						<h3 class="subsubtitle task-title">Dispatching an Invocation</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/invoke">&ndash;&nbsp;invoke</a></code>
		<span class="tooltip"><p>Calls the receiver&rsquo;s <a href="#//api/name/block">block</a> (with arguments) and sets the return value.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/invokeUsingInvocation:">&ndash;&nbsp;invokeUsingInvocation:</a></code>
		<span class="tooltip"><p>Calls the receiver&rsquo;s <a href="#//api/name/block">block</a> with the arguments from the given invocation,
and sets the return value both on the receiving invocation and the given
invocation.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/block" title="block"></a>
	<h3 class="subsubtitle method-title">block</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the reciever&rsquo;s block. Can be used to call it manually, if you
know its signature.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (nonatomic, copy, readonly) id block</code></div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/blockSignature" title="blockSignature"></a>
	<h3 class="subsubtitle method-title">blockSignature</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the reciever&rsquo;s <a href="#//api/name/block">block</a> signature. Intended for use in compatibility
comparison, and generally not useful.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) NSMethodSignature *blockSignature</code></div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/methodSignature" title="methodSignature"></a>
	<h3 class="subsubtitle method-title">methodSignature</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the reciever&rsquo;s method signature. Appropriate for use in
<code>methodSignatureForSelector:</code>, and reflects the method <em>with</em> a selector.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) NSMethodSignature *methodSignature</code></div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/argumentsRetained" title="argumentsRetained"></a>
	<h3 class="subsubtitle method-title">argumentsRetained</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns YES if the receiver has retained its arguments, NO otherwise.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)argumentsRetained</code></div>
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/retainArguments">&ndash; retainArguments</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearArguments" title="clearArguments"></a>
	<h3 class="subsubtitle method-title">clearArguments</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Unsets all arguments in the <a href="#//api/name/block">block</a> invocation, including releasing any
objects if <a href="#//api/name/argumentsRetained">argumentsRetained</a> is YES.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)clearArguments</code></div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getArgument:atIndex:" title="getArgument:atIndex:"></a>
	<h3 class="subsubtitle method-title">getArgument:atIndex:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns by indirection the receiver&rsquo;s argument at a specified index.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)getArgument:(void *)<em>argumentLocation</em> atIndex:(NSInteger)<em>idx</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>argumentLocation</em></dt>
			<dd><p>An untyped buffer to hold the returned argument. See
the discussion relating to argument values that are objects.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>idx</em></dt>
			<dd><p>An integer specifying the index of the argument to get, starting
at 0 representing the first argument of the underlying <a href="#//api/name/block">block</a>.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method copies the argument stored at index into the storage pointed to by
buffer. The size of buffer must be large enough to accommodate the argument value.</p>

<p>When the argument value is an object, pass a pointer to the variable
(or memory) into which the object should be placed:</p>

<pre><code> NSArray *anArray;
 [invocation getArgument:&amp;anArray atIndex:3];
</code></pre>

<p>This method raises NSInvalidArgumentException if idx is greater than the
actual number of arguments for the selector.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/setArgument:atIndex:">&ndash; setArgument:atIndex:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getReturnValue:" title="getReturnValue:"></a>
	<h3 class="subsubtitle method-title">getReturnValue:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Gets the receiver&rsquo;s return value.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)getReturnValue:(void *)<em>retLoc</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>retLoc</em></dt>
			<dd><p>An untyped buffer into which the receiver copies its return
value. It should be large enough to accommodate the value. See the discussion
for more information.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Use the <code>NSMethodSignature</code> method <code>-methodReturnLength</code> to determine the size
needed for the buffer:</p>

<pre><code> NSUInteger length = [[myInvocation methodSignature] methodReturnLength];
 buffer = (void *)malloc(length);
 [invocation getReturnValue:buffer];
</code></pre>

<p>When the return value is an object (or a pointer), pass a pointer to the
variable (or memory) into which the object should be placed:</p>

<pre><code> id anObject;
 NSArray *anArray;
 [invocation1 getReturnValue:&amp;anObject];
 [invocation2 getReturnValue:&amp;anArray];
</code></pre>

<p>If the <a href="#//api/name/block">block</a> invocation object has never been invoked, the result of this
method is undefined and is not recommended.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/setReturnValue:">&ndash; setReturnValue:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithBlock:methodSignature:" title="initWithBlock:methodSignature:"></a>
	<h3 class="subsubtitle method-title">initWithBlock:methodSignature:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns an <code>A2BlockInvocation</code> object able to construct calls using a given
<a href="#//api/name/block">block</a> and a given method signature.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (id)initWithBlock:(id)<em>block</em> methodSignature:(NSMethodSignature *)<em>methodSignature</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>block</em></dt>
			<dd><p>An Objective-C <a href="#//api/name/block">block</a> literal.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>methodSignature</em></dt>
			<dd><p>An Objective-C method signature matching the <a href="#//api/name/block">block</a>.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An initialized <a href="#//api/name/block">block</a> invocation object.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The new object must have its arguments set with <a href="#//api/name/setArgument:atIndex:">setArgument:atIndex:</a> before it
can be invoked.</p>

<p>The method signature given must be compatible with the signature of the <a href="#//api/name/block">block</a>.
Generally, this means being all the same except for the removal of the
selector argument, for the <a href="#//api/name/block">block</a> is the first parameter of the block&rsquo;s
function just like <code>self</code> is the first parameter of a method. An example method
that returns a string and has an integer argument would have a <a href="#//api/name/block">block</a> signature
of <code>NSString *(^)(int)</code>, and an Objective-C method signature <code>@@i</code>.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/invoke" title="invoke"></a>
	<h3 class="subsubtitle method-title">invoke</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Calls the receiver&rsquo;s <a href="#//api/name/block">block</a> (with arguments) and sets the return value.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)invoke</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>You must set the receiver&rsquo;s argument values before calling this method.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/setArgument:atIndex:">&ndash; setArgument:atIndex:</a></p></code></li>
			
			<li><code><p><a href="#//api/name/getReturnValue:">&ndash; getReturnValue:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/invokeUsingInvocation:" title="invokeUsingInvocation:"></a>
	<h3 class="subsubtitle method-title">invokeUsingInvocation:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Calls the receiver&rsquo;s <a href="#//api/name/block">block</a> with the arguments from the given invocation,
and sets the return value both on the receiving invocation and the given
invocation.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)invokeUsingInvocation:(NSInvocation *)<em>inv</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>inv</em></dt>
			<dd><p>An instance of NSInvocation with values for its arguments set.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Copying arguments will exclude the target and selector of the given invocation.
Otherwise, this method raises NSInvalidArgumentException if the number of
arguments in both invocations are not appropriately matched.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/setArgument:atIndex:">&ndash; setArgument:atIndex:</a></p></code></li>
			
			<li><code><p><a href="#//api/name/getReturnValue:">&ndash; getReturnValue:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/retainArguments" title="retainArguments"></a>
	<h3 class="subsubtitle method-title">retainArguments</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>If the receiver hasn’t already done so, retains all object arguments of the
receiver and copies all of its C-string arguments.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)retainArguments</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Before this method is invoked, <a href="#//api/name/argumentsRetained">argumentsRetained</a> returns NO; after, it returns
YES.</p>

<p>For efficiency, newly created <a href="#//api/name/block">block</a> invocations don’t retain or copy their
arguments, nor do they retain their targets or copy C strings. You should
instruct a <a href="#//api/name/block">block</a> invocation to retain its arguments if you intend to cache it,
since the arguments may otherwise be released before the NSInvocation is
invoked.</p>

<p>Note that objects referenced in the scope of the <a href="#//api/name/block">block</a> are generally retained.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/argumentsRetained">&ndash; argumentsRetained</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setArgument:atIndex:" title="setArgument:atIndex:"></a>
	<h3 class="subsubtitle method-title">setArgument:atIndex:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Sets an argument of the receiver.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)setArgument:(void *)<em>argumentLocation</em> atIndex:(NSInteger)<em>idx</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>argumentLocation</em></dt>
			<dd><p>An untyped buffer containing an argument to be assigned
to the receiver. See the discussion relating to arguments that are objects.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>idx</em></dt>
			<dd><p>An integer specifying the index of the argument, starting at 0
representing the first argument of the underlying <a href="#//api/name/block">block</a>.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method copies the contents of buffer as the argument at index. The number
of bytes copied is determined by the argument size.</p>

<p>When the argument value is an object, pass a pointer to the variable
(or memory) from which the object should be copied:</p>

<pre><code> NSArray *anArray;
 [invocation setArgument:&amp;anArray atIndex:3];
</code></pre>

<p>This method raises NSInvalidArgumentException if the value of index is greater
than the actual number of arguments for the selector.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setReturnValue:" title="setReturnValue:"></a>
	<h3 class="subsubtitle method-title">setReturnValue:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Sets the receiver’s return value.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)setReturnValue:(void *)<em>retLoc</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>retLoc</em></dt>
			<dd><p>An untyped buffer whose contents are copied as the receiver&rsquo;s
return value.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This value is normally set when you send an <a href="#//api/name/invoke">invoke</a> message.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/invoke">&ndash; invoke</a></p></code></li>
			
			<li><code><p><a href="#//api/name/getReturnValue:">&ndash; getReturnValue:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">A2BlockInvocation.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Pandamonia LLC. All rights reserved. (Last updated: 2013-02-02)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
		</script>
	</body>
</html>